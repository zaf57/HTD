<!DOCTYPE html>
<html>
<head>
    <title>HTD</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js"></script>
    
</head>
<body>
    <h1>HEIGHT TIRE DETECTOR</h1>

    <div id="page1">
        <!-- Le contenu de la première page -->
        <label for="code-pneu">Code Rolling:</label>
        <input type="text" id="code-pneu" placeholder="Entrez valeur" onkeyup="afficherHauteur()" style="height: 40px;width: 280px;">

        <br><br>

        <label for="hauteur-pneu">Hauteur Rolling:</label>
        <input type="text" id="hauteur-pneu" readonly="" style="height: 40px;width: 250px;margin-bottom: 8px;">
        <span class="unit">mm</span>
      
        <br><br> 
        <br><br>
        <br><br> 
    </div>

    <div id="page2" style="display: none;">
        <!-- Le contenu de la deuxième page -->
        <h1></h1>
        <form id="myForm">
            <label for="valeur1">Code Rolling:</label>
            <input type="text" id="valeur1" placeholder="Entrez valeur" name="valeur1" required style="height: 40px;width: 280px;">
          
            <br><br>

            <label for="valeur2">Hauteur Rolling:</label>
            <input type="text" id="valeur2" placeholder="Entrez valeur" name="valeur2" required style="height: 40px;width: 280px;"><br><br>

            <button type="button" onclick="enregistrerValeurs()" style="margin-bottom: 11px;">Enregistrer</button>
        </form>
        <br><br>
    </div>
  
    <div id="page3" style="display: none;">
        <!-- Le contenu de la troisième page -->
        <label for="extension-input">Extension:</label>
        <input type="text" id="extension-input" placeholder="Entrez valeur" oninput="calculerDouille()" style="height: 40px;width: 280px;">

        <br><br>

        <label for="galbage-input">Galbage:</label>
        <input type="text" id="galbage-input" placeholder="Entrez valeur" oninput="calculerDouille()" style="height: 40px;width: 280px;">

        <br><br>

        <div style="display: inline-block;">
            <label for="jp-checkbox">JP:</label>
            <input type="checkbox" id="jp-checkbox" class="jp-checkbox" onchange="calculerDouille()">
        </div>

        <div style="display: inline-block; margin-left: 10px;">
            <label for="douille-result">Douille:</label>
            <input type="text" id="douille-result" readonly style="height: 40px;width: 200px;">
            <span class="unit">mm</span>
        </div>
    </div>

    <br><br>
    <div class="button-container-all">
        <div class="button-container">
            <button class="nav-button" onclick="afficherPage1()">1</button>
            <button class="nav-button" onclick="afficherPage2()">2</button>
            <button class="nav-button" onclick="afficherPage3()">3</button>
        </div> 
    </div>

    <script>
        function afficherPage1() {
            document.getElementById("page1").style.display = "block";
            document.getElementById("page2").style.display = "none";
            document.getElementById("page3").style.display = "none";
        }

        function afficherPage2() {
            document.getElementById("page1").style.display = "none";
            document.getElementById("page2").style.display = "block";
            document.getElementById("page3").style.display = "none";
        }

        function afficherPage3() {
            document.getElementById("page1").style.display = "none";
            document.getElementById("page2").style.display = "none";
            document.getElementById("page3").style.display = "block";
        }

        function calculerDouille() {
            var extensionValue = parseInt(document.getElementById("extension-input").value);
            var galbageValue = parseInt(document.getElementById("galbage-input").value);
            var jpCheckbox = document.getElementById("jp-checkbox");
            var douilleResult = document.getElementById("douille-result");

            // Vérifier que la différence entre l'extension et le galbage est supérieure ou égale à 200
            if (extensionValue - galbageValue > 200) {
                douilleResult.value = "Pas possible";
            } else {
                // Définir les coefficients a, b et c obtenus à partir de la régression linéaire
                var a = -1; // Remplacez par les coefficients réels que vous avez trouvés
                var b = 1;  // Remplacez par les coefficients réels que vous avez trouvés
                var c = 535;  // Remplacez par les coefficients réels que vous avez trouvés

                // Calculez la douille en utilisant l'équation linéaire : D = (E * a) + (G * b) + c
                var douilleValue = (extensionValue * a) + (galbageValue * b) + c;

                // Réduisez la douille de 10 si la case JP est cochée
                if (jpCheckbox.checked) {
                    douilleValue -= 10;
                }

                douilleResult.value = douilleValue;
            }
        }
    </script>
</body>
</html>
